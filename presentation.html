<!DOCTYPE html>
<html>

<head>
	<title>A-Frame - Video Texture</title>
	<script src="js/aframe-master-v1.3.0.min.js"></script>
	<script src="js/parser.js"></script>
	<script src="js/aframe-tooltip-component.js"></script>
	<script src="js/aframe-curve-follow.js"></script>
	<script src="js/link-controls.js"></script>
	<script src="js/camera-position.js"></script>
	<script src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>
	<script src="js/info-message.js"></script>
	<script src="js/play-on-click.js"></script>
    	<script src="js/hide-on-play.js"></script>
	
</head>

<body>

<script>

AFRAME.registerComponent('video-controls', {
	
	init: function()
	{
		let video = document.querySelector("#video");

		let videoDisplay = document.querySelector("#video-display");
		let videoBorder  = document.querySelector("#video-border");
		let videoMesh  = videoDisplay.getObject3D("mesh");
		let borderMesh = videoBorder.getObject3D("mesh");
		
		videoBorder.addEventListener("mousedown", function(event)
		{
			if ( video.paused )
			{
				video.play();
				borderMesh.material.color.set("#004400");
			}
			else
			{
				video.pause();
				borderMesh.material.color.set("#440000");
			}
		});
	}
	
});

</script>

<a-scene>
	
	<a-assets timeout="10000">
		<img id="grid" src="images/border.png" crossorigin="anonymous" />
		<img id="sky" src="images/stars.jpg" crossorigin="anonymous" />
		<video id="video" loop="true" src="video/sintel.mp4" autoplay></video>
	</a-assets>

	<a-entity movement-controls="speed: 0.1; fly: false;" position="0 0 0">
		<a-entity camera position="0 1.5 1" look-controls></a-entity>
		<a-entity id="leftHand" laser-controls="hand: left" raycaster="" line="color: #FF00FF"></a-entity>
		<a-entity id="rightHand" laser-controls="hand: right" raycaster="" line="color: #FFFF00"></a-entity>
	</a-entity>
	
	<a-sky 
		rotation = "0 0 0"
		color = "#FFFFFF"
		material = "src: #sky">
	</a-sky>
	
	<a-plane
		width="100" height="100"
		position=" 0.00 0.00 0.00" 
		rotation="-90 0 0" 
		color="#888888" 
		material="src: #grid; repeat:100 100; transparent: true; opacity: 0.75"
		shadow="cast: false; receive: true">
	</a-plane>
	
	<a-plane
		id = "video-border"
		width = "17" height = "10"
		position = "0 5 -20"
		color = "#440000"
		video-controls>		
		<a-video  
			id = "video-display"
			width="16" height="9" 
			position="0 0 0.1"
			src="#video">
		</a-video>
	</a-plane>
	<a-assets>
         
	  <img id="logo" src="assets/logo.png">
	  <img id="mac" src="assets/macon1.jpg">
	  <img id="im" src="assets/1.png">
	  <img id="im1" src="assets/2.png">
	  <img id="im2" src="assets/3.png">
	  <img id="im3" src="assets/4.png">
	  
	</a-assets>


          <!-- adding assets to the program -->
        <a-assets>
		  
	    <a-asset-item id="centre" src="models/Measuring.obj"></a-asset-item>
	    <img id="btexture" src="./assets/logo.png">
            	              	   
            <a-asset-item id="fbac" src="./models/boite.obj"></a-asset-item>
            <img id="bac" src="./assets/1.png">

            <a-asset-item id="fcap" src="./models/boite.obj"></a-asset-item>
            <img id="cap" src="./assets/2.png">

            <a-asset-item id="f3eme" src="./models/boite.obj"></a-asset-item>
            <img id="3eme" src="./assets/3.png">

            <a-asset-item id="fgreta" src="./models/boite.obj"></a-asset-item>
            <img id="greta" src="./assets/4.png">
                        
          </a-assets>
          
         <a-entity position="7 5 6" rotation="0 -45 0">

		<a-image
			 src="#im" 
			 width="4" height="3"
			 >
		</a-image>
		
	</a-entity>
		
	<a-entity position="7 5 -6" rotation="0 -45 0">

		<a-image
			 src="#im1" 
			 width="4" height="3"
			 >
		</a-image>
			
	</a-entity>
		
	<a-entity position="-7 5 6" rotation="0 +45 0">

		<a-image
			 src="#im2" 
			 width="4" height="3"
			 >
		</a-image>
						
	</a-entity>
		
	<a-entity position="-7 5 -6 " rotation="0 +45 0">

		<a-image
			 src="#im3" 
			 width="4" height="3"
			 >
			
		</a-image>
		
	</a-entity>
				
          <!-- loading the assets inside the enviroment -->
              
          <a-entity id="fbac" position="7 2 7" scale="0.2 0.2 0.2" rotation="0 -45 0" obj-model="obj: #fbac" material="src: #bac">
		
	  </a-entity>
		
          <a-entity id="fcap" position="7 2 -7" scale="0.2 0.2 0.2" rotation="0 -45 0" obj-model="obj: #fcap" material="src: #cap">
		
	  </a-entity>
		
          <a-entity id="f3eme" position="-7 2 7" scale="0.2 0.2 0.2" rotation="0 +45 0" obj-model="obj: #f3eme" material="src: #3eme">
			
	 </a-entity>
		
          <a-entity id="fgreta" position="-7 2 -7" scale="0.2 0.2 0.2" rotation="0 +45 0" obj-model="obj: #fgreta" material="src: #greta">
	  	
	 </a-entity>
	
	   <a-link position="7 1 7.5" scale="1.2 1.2 1.2"
	 		href="bac-pro.html" title="DECOUVRIR LES FORMATIONS BAC-PRO" image="#mac">
	 	 </a-link>		
	    <a-link position="-7 1 7.5" scale="1.2 1.2 1.2"
	 		href="bac-pro.html" title="DECOUVRIR LES FORMATIONS CAP" image="#mac">
	 	 </a-link>
	    <a-link position="7 1 -7.5" scale="1.2 1.2 1.2"
	 		href="bac-pro.html" title="DECOUVRIR LA 3PMET" image="#mac">
	 	 </a-link>
	    <a-link position="-7 1 -7.5" scale="1.2 1.2 1.2"
	 		href="bac-pro.html" title="DECOUVRIR LES FORMATIONS GRETA" image="#mac">
	 	 </a-link>	
	   
	  <a-entity id="centre" scale="0.08 0.08 0.08" position="0 6.5 0" rotation="+90 0 +180" obj-model="obj: #centre" material="src: #btexture"</a-entity>
		
	
</a-scene>
</body>
</html>
